jobs:
  include:
    - stage: "Spring Build"
      name: "Spring Build"
      language: java
      jdk: openjdk11
      before_install:
        - cd Backend/store
        - chmod +x build-spring.sh
      script:
        - ./build-spring.sh

    - stage: "Deploy"
      name: "Deploy"
      language: java
      jdk: openjdk11
      before_install:
        - cd Backend/store
        - chmod +x build-spring.sh
        - chmod +x deploy-spring.sh
        - ./build-spring.sh
      script:
        - ./deploy-spring.sh

    - stage: "Node Build"
      name: "Node Build"
      language: node_js
      node_js: 14.15.4
      cache:
        directories:
          - node_modules
      before_install:
        - chmod +x build-react.sh
      script:
        - ./build-react.sh